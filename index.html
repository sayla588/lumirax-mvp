<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChainGuard - 区块链安全分析平台</title>
    <!-- Font Awesome 图标 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- 自定义样式 -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="logo">
            <i class="fa-solid fa-shield-halved"></i> MiviChain
        </div>
        <ul class="nav-links">
            <li><a href="index.html" class="nav-link active" data-target="home-view">首页</a></li>
            <li><a href="scanner.html" class="nav-link" data-target="scanner-view">链上扫描</a></li>
            <li><a href="risk.html" class="nav-link" data-target="risk-view">风险透视</a></li>
            <li><a href="verify.html" class="nav-link" data-target="verify-view">验证工具</a></li>
        </ul>
        <div class="nav-actions">
            <button class="btn-login" onclick="openAuthModal()">登录 / 注册</button>
        </div>
        <div class="hamburger">
            <i class="fa-solid fa-bars"></i>
        </div>
    </nav>

    <!-- 英雄区域 (Hero Section) -->
    <header class="hero">
        <div class="hero-content">
            <h1>守护您的链上资产安全</h1>
            <p>利用 AI 驱动的智能合约审计与实时风险监控，为您的 Web3 之旅保驾护航。</p>
            <div class="hero-buttons">
                <a href="scanner.html" class="btn-primary">开始扫描合约</a>
                <a href="risk.html" class="btn-secondary">检查钱包风险</a>

                <!-- VIP 专属下载按钮 -->
                <a id="proDownloadBtn" 
                   href="/plugins/mivichain-pro.crx" 
                   download="MiviChain-Pro.crx"
                   class="btn-primary vip-download-btn"
                   style="display:none;">
                    <i class="fa-solid fa-download"></i> 下载 MiviChain Pro 浏览器插件
                </a>
            </div>
        </div>
        <!-- 动态背景装饰 -->
        <div class="hero-bg-animation"></div>
    </header>

    <!-- 核心功能展示 -->
    <section class="features">
        <div class="section-title">
            <h2>核心功能</h2>
            <p>全方位的区块链安全解决方案</p>
        </div>
        
        <div class="feature-grid">
            <div class="feature-card">
                <div class="icon-box">
                    <i class="fa-solid fa-magnifying-glass-chart"></i>
                </div>
                <h3>智能合约扫描</h3>
                <p>深度分析合约代码漏洞，识别貔貅盘、后门代码及权限滥用风险。</p>
                <a href="scanner.html" class="card-link">立即使用 &rarr;</a>
            </div>

            <div class="feature-card">
                <div class="icon-box">
                    <i class="fa-solid fa-wallet"></i>
                </div>
                <h3>钱包风险透视</h3>
                <p>一键检测钱包授权情况，发现恶意授权并提供取消建议，防止资产被盗。</p>
                <a href="risk.html" class="card-link">立即使用 &rarr;</a>
            </div>

            <div class="feature-card">
                <div class="icon-box">
                    <i class="fa-solid fa-check-double"></i>
                </div>
                <h3>项目真伪验证</h3>
                <p>基于多维度数据验证项目官方渠道，远离钓鱼网站和假冒社群。</p>
                <a href="verify.html" class="card-link">立即使用 &rarr;</a>
            </div>
        </div>
    </section>

    <!-- 数据统计栏 -->
    <section class="stats">
        <div class="stat-item">
            <span class="stat-number">100W+</span>
            <span class="stat-label">已扫描合约</span>
        </div>
        <div class="stat-item">
            <span class="stat-number">$50M+</span>
            <span class="stat-label">挽回潜在损失</span>
        </div>
        <div class="stat-item">
            <span class="stat-number">24/7</span>
            <span class="stat-label">实时监控</span>
        </div>
    </section>

    <!-- 页脚 -->
    <footer>
        <div class="footer-content">
            <div class="footer-logo">
                <i class="fa-solid fa-shield-halved"></i> MiviChain
            </div>
            <p>&copy; 2025 ChainGuard Security. All rights reserved.</p>
        </div>
    </footer>

    <!-- 移动端菜单脚本 -->
    <script>
        const hamburger = document.querySelector('.hamburger');
        const navLinks = document.querySelector('.nav-links');

        hamburger.addEventListener('click', () => {
            navLinks.classList.toggle('active');
        });
    </script>

    <!-- 登录/注册 模态框 -->
    <div id="authModal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close" onclick="closeAuthModal()">&times;</button>
            
            <div class="auth-tabs">
                <button id="tab-login" class="auth-tab active" onclick="switchAuthTab('login')">登录</button>
                <button id="tab-register" class="auth-tab" onclick="switchAuthTab('register')">注册</button>
            </div>

            <!-- 登录表单 -->
            <form id="form-login" class="auth-form active" onsubmit="handleLogin(event)">
                <input type="text" id="loginUser" class="auth-input" placeholder="用户名" required>
                <input type="password" id="loginPass" class="auth-input" placeholder="密码" required>
                <button type="submit" class="btn-full">立即登录</button>
                <div id="loginMsg" class="auth-msg"></div>
            </form>

            <!-- 注册表单 -->
            <form id="form-register" class="auth-form" onsubmit="handleRegister(event)">
                <input type="text" id="regUser" class="auth-input" placeholder="设置用户名" required>
                <input type="password" id="regPass" class="auth-input" placeholder="设置密码" required>
                <button type="submit" class="btn-full" style="background: transparent; border: 1px solid var(--primary-color); color: #fff;">创建账户</button>
                <div id="regMsg" class="auth-msg"></div>
            </form>
        </div>
    </div>

    <!-- 引入 Stripe.js（必须在 auth.js 之前） -->
    <script src="https://js.stripe.com/v3/"></script>

    <!-- 引入 auth.js（包含登录、注册、VIP 支付逻辑） -->
    <script src="auth.js"></script>

    <!-- 页面加载后检查 VIP 状态，控制下载按钮 -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof updateVipDisplay === 'function') {
                updateVipDisplay();
            }
        });
    </script>
</body>
</html>
